<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  
  <title>Title</title>
  
</head>
<body>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<svg width="10" height="100">

</svg>



</body>
</html>
<script>

	 var options = {
        svg: {
            element: "#canvas",
            height: 1000,
            width: 16000,
            topPadding: 60
        },
        animation: {
            transitionDuration: 1000
        },
        characters: {
            interpolation: "monotone",
            class: "line",
            labelClass: "name",
            labelX: 4,
            labelDy: -4,
            sessionCoefficient: 2,
            strokeWidth: 4,
            highlightStrokeWidth: 8,
            highlightDuration: 400,
            nonHighlightedOpacity: 0.2,
            toKeep: null
        },
        locations: {
            interpolation: "monotone",
            fontSize: "30px",
            labelX: 30,
            labelDy: -10,
            padding: 20,
            opacity: 0.2,
            class: "locationPath",
            labelClass: "locationLabel",
            splitLength: 400
        },
        algorithm: {
            sweepingMaxIterations: 3
        }
    };
 
	var star_wars = {
  "name": "Star Wars",
  "characters": [
	{
	  "name": "Vader",
	  "id": 0
	},
	{
	  "name": "Leia",
	  "id": 1
	},
	{
	  "name": "R2-D2",
	  "id": 2
	},
	{
	  "name": "C-3PO",
	  "id": 3
	},
	{
	  "name": "Obi-Wan",
	  "id": 4
	},
	{
	  "name": "Luke",
	  "id": 5
	},
	{
	  "name": "Han",
	  "id": 6
	},
	{
	  "name": "Chewie",
	  "id": 7
	},
	{
	  "name": "Jabba",
	  "id": 8
	},
	{
	  "name": "Greedo",
	  "id": 9
	},
	{
	  "name": "Lando",
	  "id": 10
	},
	{
	  "name": "Yoda",
	  "id": 11
	},
	{
	  "name": "Boba Fett",
	  "id": 12
	},
	{
	  "name": "Emperor",
	  "id": 13
	}
  ],
  "locations": [
	{
	  "name": "Dagobath",
	  "id": 0
	},
	{
	  "name": "Death Star",
	  "id": 1
	},
	{
	  "name": "Hoth",
	  "id": 2
	},
	{
	  "name": "Yavin",
	  "id": 3
	},
	{
	  "name": "Cloud City",
	  "id": 4
	},
	{
	  "name": "Endor",
	  "id": 5
	},
	{
	  "name": "Tatooine",
	  "id": 6
	},
	{
	  "name": "Other",
	  "id": 7
	}
  ],
  "sessions": [
	{
	  "start": 0,
	  "end": 7,
	  "members": [
		0
	  ],
	  "location": 1
	},
	{
	  "start": 0,
	  "end": 2,
	  "members": [
		1,
		2
	  ],
	  "location": 7
	},
	{
	  "start": 0,
	  "end": 7,
	  "members": [
		3
	  ],
	  "location": 7
	},
	{
	  "start": 0,
	  "end": 12,
	  "members": [
		4
	  ],
	  "location": 6
	},
	{
	  "start": 0,
	  "end": 7,
	  "members": [
		5
	  ],
	  "location": 6
	},
	{
	  "start": 0,
	  "end": 15,
	  "members": [
		6,
		7
	  ],
	  "location": 6
	},
	{
	  "start": 0,
	  "end": 109,
	  "members": [
		8
	  ],
	  "location": 6
	},
	{
	  "start": 2,
	  "end": 7,
	  "members": [
		1
	  ],
	  "location": 7
	},
	{
	  "start": 2,
	  "end": 7,
	  "members": [
		2
	  ],
	  "location": 7
	},
	{
	  "start": 7,
	  "end": 22,
	  "members": [
		0,
		1
	  ],
	  "location": 1
	},
	{
	  "start": 7,
	  "end": 12,
	  "members": [
		2,
		3,
		5
	  ],
	  "location": 6
	},
	{
	  "start": 12,
	  "end": 19,
	  "members": [
		2,
		3,
		4,
		5
	  ],
	  "location": 6
	},
	{
	  "start": 12,
	  "end": 15,
	  "members": [
		9
	  ],
	  "location": 6
	},
	{
	  "start": 15,
	  "end": 17,
	  "members": [
		6,
		7,
		9
	  ],
	  "location": 6
	},
	{
	  "start": 17,
	  "end": 19,
	  "members": [
		6,
		7
	  ],
	  "location": 6
	},
	{
	  "start": 19,
	  "end": 22,
	  "members": [
		2,
		3,
		4,
		5,
		6,
		7
	  ],
	  "location": 6
	},
	{
	  "start": 22,
	  "end": 33,
	  "members": [
		0
	  ],
	  "location": 1
	},
	{
	  "start": 22,
	  "end": 33,
	  "members": [
		1,
		5,
		6,
		7
	  ],
	  "location": 1
	},
	{
	  "start": 22,
	  "end": 33,
	  "members": [
		2,
		3
	  ],
	  "location": 1
	},
	{
	  "start": 22,
	  "end": 33,
	  "members": [
		4
	  ],
	  "location": 1
	},
	{
	  "start": 33,
	  "end": 35,
	  "members": [
		0,
		4
	  ],
	  "location": 1
	},
	{
	  "start": 33,
	  "end": 38,
	  "members": [
		1,
		3,
		6,
		7
	  ],
	  "location": 3
	},
	{
	  "start": 33,
	  "end": 40,
	  "members": [
		2,
		5
	  ],
	  "location": 3
	},
	{
	  "start": 35,
	  "end": 40,
	  "members": [
		0
	  ],
	  "location": 1
	},
	{
	  "start": 38,
	  "end": 52,
	  "members": [
		1,
		3
	  ],
	  "location": 3
	},
	{
	  "start": 38,
	  "end": 46,
	  "members": [
		6,
		7
	  ],
	  "location": 7
	},
	{
	  "start": 40,
	  "end": 46,
	  "members": [
		0,
		2,
		5
	  ],
	  "location": 1
	},
	{
	  "start": 46,
	  "end": 51,
	  "members": [
		0,
		2,
		5,
		6,
		7
	  ],
	  "location": 1
	},
	{
	  "start": 51,
	  "end": 75,
	  "members": [
		0
	  ],
	  "location": 1
	},
	{
	  "start": 51,
	  "end": 52,
	  "members": [
		2,
		5,
		6,
		7
	  ],
	  "location": 7
	},
	{
	  "start": 52,
	  "end": 58,
	  "members": [
		1,
		2,
		3,
		5,
		6,
		7
	  ],
	  "location": 3
	},
	{
	  "start": 58,
	  "end": 65,
	  "members": [
		1,
		2,
		3,
		6,
		7
	  ],
	  "location": 3
	},
	{
	  "start": 58,
	  "end": 68,
	  "members": [
		5
	  ],
	  "location": 2
	},
	{
	  "start": 65,
	  "end": 72,
	  "members": [
		1,
		2,
		3,
		7
	  ],
	  "location": 3
	},
	{
	  "start": 65,
	  "end": 68,
	  "members": [
		6
	  ],
	  "location": 2
	},
	{
	  "start": 68,
	  "end": 72,
	  "members": [
		5,
		6
	  ],
	  "location": 2
	},
	{
	  "start": 72,
	  "end": 75,
	  "members": [
		1,
		2,
		3,
		5,
		6,
		7
	  ],
	  "location": 2
	},
	{
	  "start": 72,
	  "end": 81,
	  "members": [
		10
	  ],
	  "location": 7
	},
	{
	  "start": 75,
	  "end": 78,
	  "members": [
		0,
		1,
		2,
		3,
		5,
		6,
		7
	  ],
	  "location": 2
	},
	{
	  "start": 78,
	  "end": 81,
	  "members": [
		0
	  ],
	  "location": 7
	},
	{
	  "start": 78,
	  "end": 87,
	  "members": [
		1,
		3,
		6,
		7
	  ],
	  "location": 4
	},
	{
	  "start": 78,
	  "end": 90,
	  "members": [
		2,
		5
	  ],
	  "location": 7
	},
	{
	  "start": 81,
	  "end": 85,
	  "members": [
		0,
		10
	  ],
	  "location": 4
	},
	{
	  "start": 85,
	  "end": 90,
	  "members": [
		0
	  ],
	  "location": 4
	},
	{
	  "start": 85,
	  "end": 87,
	  "members": [
		10
	  ],
	  "location": 4
	},
	{
	  "start": 85,
	  "end": 90,
	  "members": [
		11
	  ],
	  "location": 0
	},
	{
	  "start": 85,
	  "end": 90,
	  "members": [
		12
	  ],
	  "location": 7
	},
	{
	  "start": 87,
	  "end": 95,
	  "members": [
		1,
		3,
		6,
		7,
		10
	  ],
	  "location": 4
	},
	{
	  "start": 90,
	  "end": 95,
	  "members": [
		0,
		12
	  ],
	  "location": 4
	},
	{
	  "start": 90,
	  "end": 105,
	  "members": [
		2,
		5,
		11
	  ],
	  "location": 0
	},
	{
	  "start": 95,
	  "end": 102,
	  "members": [
		0,
		1,
		3,
		6,
		7,
		10,
		12
	  ],
	  "location": 4
	},
	{
	  "start": 102,
	  "end": 105,
	  "members": [
		0,
		1,
		3,
		7,
		10
	  ],
	  "location": 4
	},
	{
	  "start": 102,
	  "end": 109,
	  "members": [
		6,
		12
	  ],
	  "location": 6
	},
	{
	  "start": 105,
	  "end": 109,
	  "members": [
		0
	  ],
	  "location": 4
	},
	{
	  "start": 105,
	  "end": 109,
	  "members": [
		1,
		3,
		7,
		10
	  ],
	  "location": 4
	},
	{
	  "start": 105,
	  "end": 109,
	  "members": [
		2
	  ],
	  "location": 7
	},
	{
	  "start": 105,
	  "end": 109,
	  "members": [
		5
	  ],
	  "location": 7
	},
	{
	  "start": 105,
	  "end": 157,
	  "members": [
		11
	  ],
	  "location": 0
	},
	{
	  "start": 109,
	  "end": 119,
	  "members": [
		0,
		5
	  ],
	  "location": 4
	},
	{
	  "start": 109,
	  "end": 124,
	  "members": [
		1,
		2,
		3,
		7,
		10
	  ],
	  "location": 4
	},
	{
	  "start": 109,
	  "end": 131,
	  "members": [
		6,
		8,
		12
	  ],
	  "location": 6
	},
	{
	  "start": 119,
	  "end": 170,
	  "members": [
		0
	  ],
	  "location": 1
	},
	{
	  "start": 119,
	  "end": 124,
	  "members": [
		5
	  ],
	  "location": 4
	},
	{
	  "start": 124,
	  "end": 128,
	  "members": [
		1,
		2,
		3,
		5,
		7,
		10
	  ],
	  "location": 4
	},
	{
	  "start": 128,
	  "end": 134,
	  "members": [
		1,
		2,
		3,
		5,
		7
	  ],
	  "location": 7
	},
	{
	  "start": 128,
	  "end": 131,
	  "members": [
		10
	  ],
	  "location": 6
	},
	{
	  "start": 131,
	  "end": 138,
	  "members": [
		6,
		8,
		10,
		12
	  ],
	  "location": 6
	},
	{
	  "start": 134,
	  "end": 143,
	  "members": [
		1,
		5,
		7
	  ],
	  "location": 7
	},
	{
	  "start": 134,
	  "end": 138,
	  "members": [
		2,
		3
	  ],
	  "location": 6
	},
	{
	  "start": 138,
	  "end": 146,
	  "members": [
		2,
		3,
		6,
		8,
		10,
		12
	  ],
	  "location": 6
	},
	{
	  "start": 143,
	  "end": 146,
	  "members": [
		1,
		7
	  ],
	  "location": 6
	},
	{
	  "start": 143,
	  "end": 151,
	  "members": [
		5
	  ],
	  "location": 7
	},
	{
	  "start": 146,
	  "end": 151,
	  "members": [
		1,
		2,
		3,
		6,
		7,
		8,
		10,
		12
	  ],
	  "location": 6
	},
	{
	  "start": 151,
	  "end": 153,
	  "members": [
		1,
		2,
		3,
		5,
		6,
		7,
		8,
		10,
		12
	  ],
	  "location": 6
	},
	{
	  "start": 153,
	  "end": 154,
	  "members": [
		1,
		2,
		3,
		5,
		6,
		7,
		10
	  ],
	  "location": 6
	},
	{
	  "start": 154,
	  "end": 163,
	  "members": [
		1,
		2,
		3,
		6,
		7,
		10
	  ],
	  "location": 6
	},
	{
	  "start": 154,
	  "end": 157,
	  "members": [
		5
	  ],
	  "location": 7
	},
	{
	  "start": 157,
	  "end": 160,
	  "members": [
		5,
		11
	  ],
	  "location": 0
	},
	{
	  "start": 160,
	  "end": 163,
	  "members": [
		5
	  ],
	  "location": 7
	},
	{
	  "start": 163,
	  "end": 170,
	  "members": [
		1,
		2,
		3,
		5,
		6,
		7,
		10
	  ],
	  "location": 6
	},
	{
	  "start": 163,
	  "end": 170,
	  "members": [
		13
	  ],
	  "location": 7
	},
	{
	  "start": 170,
	  "end": 174,
	  "members": [
		0,
		13
	  ],
	  "location": 1
	},
	{
	  "start": 170,
	  "end": 174,
	  "members": [
		1,
		2,
		3,
		5,
		6,
		7
	  ],
	  "location": 5
	},
	{
	  "start": 170,
	  "end": 190,
	  "members": [
		10
	  ],
	  "location": 6
	},
	{
	  "start": 174,
	  "end": 178,
	  "members": [
		0
	  ],
	  "location": 1
	},
	{
	  "start": 174,
	  "end": 197,
	  "members": [
		1,
		2,
		3,
		6,
		7
	  ],
	  "location": 5
	},
	{
	  "start": 174,
	  "end": 178,
	  "members": [
		5
	  ],
	  "location": 7
	},
	{
	  "start": 174,
	  "end": 185,
	  "members": [
		13
	  ],
	  "location": 1
	},
	{
	  "start": 178,
	  "end": 185,
	  "members": [
		0,
		5
	  ],
	  "location": 1
	},
	{
	  "start": 185,
	  "end": 190,
	  "members": [
		0,
		5,
		13
	  ],
	  "location": 1
	},
	{
	  "start": 190,
	  "end": 193,
	  "members": [
		0,
		5,
		10,
		13
	  ],
	  "location": 1
	},
	{
	  "start": 193,
	  "end": 197,
	  "members": [
		5,
		10
	  ],
	  "location": 1
	},
	{
	  "start": 197,
	  "end": 200,
	  "members": [
		1,
		2,
		3,
		5,
		6,
		7,
		10
	  ],
	  "location": 5
	}
  ]
}
	

	var _svg = d3.select("body")
                 .append("svg")
                 .attr("width","10000")
                 .attr("height","700");
	
	var timeframe = star_wars.sessions.map(function (x) {
            return {start: x.start, end: x.end}
        })
//	.reduce(function (x, y) {
//                    return {start: Math.min(x.start, y.start), end: Math.max(x.end, y.end)}
//                });
	console.log(timeframe)
	console.log(star_wars.characters)

	var characterColors = star_wars.characters.length <= 10 ? d3.scale.category10() : d3.scale.category20();
    var locationColors  = star_wars.locations.length <= 10 ? d3.scale.category10() : d3.scale.category20();
	console.log(characterColors)
	
	for (i = 0; i < star_wars.characters.length; ++i) {
            star_wars.characters[i].d3 = {color: characterColors(i)};
        }
	 // Assign each location a color
        for (i = 0; i < star_wars.locations.length; ++i) {
            star_wars.locations[i].d3 = {color: locationColors(i)};
        }

        // Compute the maximum number of characters in a time unit
        // (Useful for scaling the layout)
	 var maxCharacters = star_wars.sessions.map(function (sessions) {
            return sessions.members.length;
        })
//                .reduce(function (x, y) {
//                    return Math.max(x, y);
//                });
	console.log(maxCharacters)

	 var verticalScale = d3.scale.linear()
                .domain([0, maxCharacters])
                .range([options.svg.topPadding, options.svg.height]);

        var horizontalScale = d3.scale.linear()
                .domain([0, star_wars.sessions.length])
                .range([0, options.svg.width]);
	
	 // Compute the path of each character
//        for (var t = 0; t < star_wars.sessions.length; ++t) {
//            var time = star_wars.sessions[t];

            // Since we use the characters in time.sortedCharacter, we need a way of knowing
            // how they are grouped together (in sessions)
            // characterGroups stores the number of sessions and how many characters it contains
            var characterGroups =  star_wars.sessions.map(function (x) {
                        
                            return x.members.length;
                       
                    })
			

            var offset = 0;
	
//			characterGroups.forEach(function (charactersInSession) {
//                var mean = 0;
//
//                for (i = 0; i < charactersInSession; ++i) {
//                    mean += verticalScale(offset + i+1);
//                }
//
//                mean /= charactersInSession;
//
//                for (i = 0; i < charactersInSession; ++i) {
//                    // Fetch the character with the given ID
//                    var character = star_wars.characters.filter(function (character) {
//                        return character.id == star_wars.sessions.members[offset + i];
//                    });
//
//                    if (character.isRemoved)
//                        continue;
//
//                    if (character.d3.points == undefined)
//                        character.d3.points = [];
//
//                    // Distribute it around the mean according to its position in the session
//                    character.d3.points.push({
//                        x: horizontalScale(t),
//                        y: mean + ((verticalScale(offset + i) - mean) / options.characters.sessionCoefficient)
//                    });
//                }
//
//                // Keep track of the index in time.sortedCharacters
//                offset += charactersInSession;
//            });
	dataset = star_wars;
//        var svg = d3.select(options.svg.element).append("svg").attr("height", options.svg.height).attr("width", options.svg.width);
//		var line_function = d3.svg.line().interpolate(options.characters.interpolation)
//                .x(function (d) {
//                    return d.x;
//                })
//                .y(function (d) {
//                    return d.y;
//                });
//	for (var t = 0; t < dataset.d3.time.length; ++t) {
//            var time = dataset.d3.time[t];
//
//            for (i = 0; i < time.locations.length; ++i) {
//                var sessions = time.locations[i].sessions;
//
//                for (k = 0; k < sessions.length; ++k) {
//                    var session   = dataset.sessions[sessions[k]];
//                    var location   = dataset.locations[session.location];
//
//                    for (var h = 0; h < session.members.length; ++h) {
//                        var character   = dataset.characters.filter(function (character) {
//                            return character.id == session.members[h];
//                        });
//
//                        if (location.d3.points == undefined)
//                            location.d3.points = [];
//
//                        character.d3.points.forEach(function(characterPoint) {
//                            // We are only interested in the points belonging to this 'time'
//                            if (characterPoint.x != horizontalScale(t))
//                                return;
//
//                            // No points added -> nothing to check
//                            if (location.d3.points.length == 0)
//                                location.d3.points.push({
//                                    top: characterPoint,
//                                    bottom: characterPoint
//                                });
//                            else {
//                                var lastPoint = location.d3.points[location.d3.points.length - 1];
//
//                                // If the last points is from this 'time'
//                                if (lastPoint.top.x == characterPoint.x) {
//                                    // If the new point is 'higher' (lower Y), replace the top one
//                                    if (lastPoint.top.y > characterPoint.y) {
//                                        location.d3.points[location.d3.points.length - 1].top = characterPoint;
//                                    } else if (lastPoint.bottom.y < characterPoint.y) {
//                                        // If the new points is 'lower' (higher Y), replace the bottom one
//                                        location.d3.points[location.d3.points.length - 1].bottom = characterPoint;
//                                    }
//                                } else {
//                                    // First point of belonging to this 'time' -> nothing to check
//                                    location.d3.points.push({
//                                        top: characterPoint,
//                                        bottom: characterPoint
//                                    });
//                                }
//                            }
//                        });
//                    }
//                }
//            }
//        }
	var line = d3.svg.line()
	    		 .x(function(d) { return d[1]; })
    			 .y(function(d) { return d[2];})
				
				 .interpolate("linear");


	
    var arr =[]
	n = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==0)
		   {
		      arr[n] = [i,star_wars.sessions[i].start+1,((star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4)]
			   n = n+1
			   arr[n] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n = n+1
		   }
		}
		 }
	var arr1 =[]
	n1 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==1)
		   {
			   
			   
		      arr1[n1] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n1 = n1+1
			   
			   arr1[n1] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n1 = n1+1
		   }
		}
		 }
	 var arr2 =[]
	   n2 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==2)
		   {
		      arr2[n2] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n2 = n2+1
			   arr2[n2] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n2 = n2+1
		   }
		}
		 }
	 var arr3 =[]
	   n3 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==3)
		   {
		      arr3[n3] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n3 = n3+1
			   arr3[n3] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n3 = n3+1
		   }
		}
		 }
//	console.log(arr3)
	 var arr4 =[]
	   n4 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==4)
		   {
		      arr4[n4] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n4 = n4+1
			   arr4[n4] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n4 = n4+1
		   }
		}
		 }
	 var arr5 =[]
	   n5 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==5)
		   {
		      arr5[n5] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n5 = n5+1
			   arr5[n5] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n5 = n5+1
		   }
		}
		 }
	 var arr6 =[]
	   n6 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==6)
		   {
		      arr6[n6] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n6 = n6+1
			   arr6[n6] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n6 = n6+1
		   }
		}
		 }
	 var arr7 =[]
	   n7 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==7)
		   {
		      arr7[n7] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n7 = n7+1
			   arr7[n7] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n7 = n7+1
		   }
		}
		 }
	 var arr8 =[]
	   n8 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==8)
		   {
		      arr8[n8] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n8 = n8+1
			   arr8[n8] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n8 = n8+1
		   }
		}
		 }
	 var arr9 =[]
	   n9 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==9)
		   {
		      arr9[n9] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n9 = n9+1
			   arr9[n9] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n9 = n9+1
		   }
		}
		 }
	 var arr10 =[]
	   n10 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==10)
		   {
		      arr10[n10] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n10 = n10+1
			   arr10[n10] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n10 = n10+1
		   }
		}
		 }
	 var arr11 =[]
	   n11 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==11)
		   {
		      arr11[n11] = [i,star_wars.sessions[i].start,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n11 = n11+1
			   arr11[n11] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n11 = n11+1
		   }
		}
		 }
	 var arr12 =[]
	   n12 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==12)
		   {
		      arr12[n12] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n12 = n12+1
			   arr12[n12] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n12 = n12+1
		   }
		}
		 }
	 var arr13 =[]
	   n13 = 0;
	for(var i = 0;i < star_wars.sessions.length; i++){
		
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
		if(star_wars.sessions[i].members[j]==13)
		   {
		      arr13[n13] = [i,star_wars.sessions[i].start+1,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n13 = n13+1
			   arr13[n13] = [i,star_wars.sessions[i].end,(star_wars.sessions[i].members[j]+1)*(star_wars.sessions[i].location+1)/4]
			   n13 = n13+1
		   }
		}
		 }
	
	arr_all = []
	arr_all[0] = arr
	arr_all[1] = arr1
	arr_all[2] = arr2
	arr_all[3] = arr3
	arr_all[4] = arr4
	arr_all[5] = arr5
	arr_all[6] = arr6
	arr_all[7] = arr7
	arr_all[8] = arr8
	arr_all[9] = arr9
	arr_all[10] = arr10
	arr_all[11] = arr11
	arr_all[12] = arr12
	arr_all[13] = arr13
	console.log(arr_all)
	console.log(arr)
	
	
		
	for (var i=0;i<14;i++)
	{
		for(var j=0;j<arr_all[i].length;j++)
		{
			
			arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1]*5,arr_all[i][j][2]*3]
			if(i==11){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],arr_all[i][j][2]-3]
			}
//			if( i==4 && j>3){
//				arr_all[4][j]= [arr_all[4][j][0],arr_all[4][j][1],arr_all[4][j][2]+10]
//			}
			if(arr_all[i][j][0]==15){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],arr_all[i][j][2]]
				
			}
			if(arr_all[i][j][0]==17){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],arr_all[i][j][2]]
				
				
				
			}
			if(arr_all[i][j][0]==25){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])-4]
				

				
			}
			if(arr_all[i][j][0]==24){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])+20]
				

				
			}
			if(arr_all[i][j][0]==27){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])+2]
				

				
			}
			if(arr_all[i][j][0]==29){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])-10]
				

				
			}
			if(arr_all[i][j][0]==36){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])+5]
				

				
			}
			if(arr_all[i][j][0]==21){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])+10]
				

				
			}
			if(arr_all[i][j][0]==30){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])+2]
				

				
			}
			if(arr_all[i][j][0]==38){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])-1]
				

				
			}
			if(arr_all[i][j][0]==40){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])+5]
				

				
			}
						if(arr_all[i][j][0]==41){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])-3]
				

				
			}
			if(arr_all[i][j][0]==50){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])/3+15]
				

				
			}
			if(arr_all[i][j][0]==69){
				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],(arr_all[i][j][2])-2]
				

				
			}
			if(arr_all[i][j][0]==77){
				arr_all[5][j] = [arr_all[5][j][0],arr_all[5][j][1],(arr_all[5][j][2])+4]
				

				
			}
//			if(arr_all[i][j][0]==86){
//				arr_all[5][j] = [arr_all[5][j][0],arr_all[5][j][1],(arr_all[5][j][2])+4]
//				
//
//				
//			}
//			if(arr_all[i][j][0]==91){
//				arr_all[5][j] = [arr_all[5][j][0],arr_all[5][j][1],(arr_all[5][j][2])+4]
//				
//
//				
//			}
//			arr_all[5][6] =   [arr_all[5][6][0],arr_all[5][6][1],arr_all[5][5][2]]
//			arr_all[5][7] =   [arr_all[5][7][0],arr_all[5][7][1],arr_all[5][6][2]]
////			arr_all[6][6] =   [arr_all[6][6][0],arr_all[6][6][1],arr_all[6][7][2]]
////			arr_all[7][5] =   [arr_all[7][5][0],arr_all[7][5][1],arr_all[7][6][2]]
//			arr_all[1][1] =   [arr_all[1][1][0],arr_all[1][1][1],arr_all[1][2][2]]
//			arr_all[1][3] =   [arr_all[1][3][0],arr_all[1][3][1],arr_all[1][3][2]+0.01]
//			arr_all[2][1] =   [arr_all[2][1][0],arr_all[2][1][1],arr_all[2][2][2]]
//			arr_all[4][0] =   [arr_all[4][0][0],arr_all[4][0][1],arr_all[4][1][2]]
//			arr_all[3][0] =   [arr_all[3][0][0],arr_all[3][0][1],arr_all[3][1][2]]
//			arr_all[5][0] =   [arr_all[5][0][0],arr_all[5][0][1],arr_all[5][1][2]]
//			if(arr_all[i][j][0]==18){
//				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],arr_all[i][j][2]+2]
//			}
//			if(arr_all[i][j][0]==19){
//				arr_all[i][j] = [arr_all[i][j][0],arr_all[i][j][1],arr_all[i][j][2]+3]
//			}
		}
	}
	console.log(arr_all[0][0])
		
	
	for (var i=0;i<star_wars.sessions.length;i++)
	{
		for(var j=0;j<star_wars.sessions[i].members.length;j++)
		{
			
//			_svg.append("line")
//                		.attr("y1",(star_wars.sessions[i].members[j])*(star_wars.sessions[i].location+1))
//                		.attr("x1",star_wars.sessions[i].start)
//						.attr("y2",(star_wars.sessions[i].members[j])*(star_wars.sessions[i].location+1))
//						.attr("x2",star_wars.sessions[i].end)
//						.style("stroke","Skyblue")
//						.style("stroke-width","0.5");
			switch(star_wars.sessions[i].members[j]){
				case 0:
					
						

	             
			var d = line(arr_all[0]);
			_svg.append("path")
					.attr("d", d)
					.attr("fill", "none")
					.style("stroke","Skyblue")
					.style("stroke-width","0.3"); 
					break;
					
				case 1:
					var d = line(arr_all[1]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
			
						.style("stroke","LightPink")
						.style("stroke-width","0.3");
					break;
				case 2:
					var d = line(arr_all[2]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","Plum")
						.style("stroke-width","0.3");
					break;
				case 3:
					var d = line(arr_all[3]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","LightSeaGreen")
						.style("stroke-width","0.3");
					break;
				case 4:
					var d = line(arr_all[4]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","Orange")
						.style("stroke-width","0.3");
					break;
				case 5:
					var d = line(arr_all[5]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","Gold")
						.style("stroke-width","0.3");
					break;
				case 6:
					var d = line(arr_all[6]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","Seashell")
						.style("stroke-width","0.3");
					break;
				case 7:
					var d = line(arr_all[7]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","Chocolate")
						.style("stroke-width","0.3");
					break;
				case 8:
					var d = line(arr_all[8]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","Pink")
						.style("stroke-width","0.3");
					break;				
				case 9:
					var d = line(arr_all[9]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","MistyRose")
						.style("stroke-width","0.3");
					break;
				case 10:
					var d = line(arr_all[10]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","Maroon")
						.style("stroke-width","0.3");
					break;
				case 11:
					var d = line(arr_all[11]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","Tan")
						.style("stroke-width","0.3");
					break;
				case 12:
					var d = line(arr_all[12]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","Purple")
						.style("stroke-width","0.3");
					break;
					case 13:
					var d = line(arr_all[13]);
				_svg.append("path")
						.attr("d", d)
						.attr("fill", "none")
						.style("stroke","Red")
						.style("stroke-width","0.3");
					break;
//				default:
//					_svg.append("line")
//                		.attr("y1",(star_wars.sessions[i].members[j])*(star_wars.sessions[i].location+1))
//                		.attr("x1",star_wars.sessions[i].start)
//						.attr("y2",(star_wars.sessions[i].members[j])*(star_wars.sessions[i].location+1))
//						.attr("x2",star_wars.sessions[i].end)
//						.style("stroke","steelblue")
//						.style("stroke-width","0.5");
//					break;
					
  
} 
			            
		}
	
	
			
		
		
	
    
}

	

	



	</script>
</html>

